@using UCosmic.Domain.People
@using UCosmic.Www.Mvc.Areas.Identity.Models
@model ConfirmDeniedModel
@{
    Layout = MVC.Shared.Views.layout;
    ViewBag.Title = "There was a problem confirming your email";
    switch (Model.Intent)
    {
        case EmailConfirmationIntent.SignUp:
            switch (Model.Reason)
            {
                case ConfirmDeniedBecause.IsExpired:
                    ViewBag.Title = "Your sign up window has expired";
                    Html.RenderPartial(MVC.Passwords.Shared.Views._create_password_expired);
                    break;
                case ConfirmDeniedBecause.IsRetired:
                    ViewBag.Title = "Your password has already been created";
                    Html.RenderPartial(MVC.Passwords.Shared.Views._create_password_retired);
                    break;
                default:
                    Html.RenderPartial(MVC.Passwords.Shared.Views._create_password_crash);
                    break;
            }
            break;
        case EmailConfirmationIntent.PasswordReset:
            switch (Model.Reason)
            {
                case ConfirmDeniedBecause.IsExpired:
                    ViewBag.Title = "Your password reset window has expired";
                    Html.RenderPartial(MVC.Passwords.Shared.Views._reset_password_expired);
                    break;
                case ConfirmDeniedBecause.IsRetired:
                    ViewBag.Title = "Your password has already been reset";
                    Html.RenderPartial(MVC.Passwords.Shared.Views._reset_password_retired);
                    break;
                default:
                    Html.RenderPartial(MVC.Passwords.Shared.Views._reset_password_crash);
                    break;
            }
            break;
        default:
            Html.RenderPartial(MVC.Identity.ConfirmEmail.Views._denied_crash);
            break;
    }
}
